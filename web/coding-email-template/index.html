<!doctype html>
<!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7" lang="en"> <![endif]-->
<!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8" lang="en"><![endif]-->
<!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Coding Email Template &#8211; Nirav Gandhi's Blog</title>
<meta name="description" content="Best practices on designing and testing email templates.">
<meta name="keywords" content="email, template, rails, css, design">



<!-- Twitter Cards -->
<meta name="twitter:title" content="Coding Email Template">
<meta name="twitter:description" content="Best practices on designing and testing email templates.">
<meta name="twitter:site" content="@niyando">
<meta name="twitter:creator" content="@niyando">

<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://www.niyando.com/images/coding-emails.html">

<!-- Open Graph -->
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="Coding Email Template">
<meta property="og:description" content="Best practices on designing and testing email templates.">
<meta property="og:url" content="http://www.niyando.com/web/coding-email-template/" >
<meta property="og:site_name" content="Nirav Gandhi's Blog">

<meta property="og:image" content="http://www.niyando.com/images/coding-emails.html">


<!-- Webmaster Tools verfication -->
<meta name="google-site-verification" content="zozIVtn1UVNoswQAPQ6o-Knn7JczifrmrTLXZS3KNMk">



<link rel="canonical" href="http://www.niyando.com/web/coding-email-template/">
<link href="http://www.niyando.com/feed.xml" type="application/atom+xml" rel="alternate" title="Nirav Gandhi's Blog Feed">

<!-- http://t.co/dKP3o1e -->
<meta name="HandheldFriendly" content="True">
<meta name="MobileOptimized" content="320">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- For all browsers -->
<link rel="stylesheet" href="http://www.niyando.com/assets/css/main.css">

<meta http-equiv="cleartype" content="on">

<!-- HTML5 Shiv and Media Query Support -->
<!--[if lt IE 9]>
	<script src="http://www.niyando.com/assets/js/vendor/html5shiv.min.js"></script>
	<script src="http://www.niyando.com/assets/js/vendor/respond.min.js"></script>
<![endif]-->

<!-- Modernizr -->
<script src="http://www.niyando.com/assets/js/vendor/modernizr-2.7.1.custom.min.js"></script>

<link href='//fonts.googleapis.com/css?family=PT+Sans+Narrow:400,700%7CPT+Serif:400,700,400italic' rel='stylesheet' type='text/css'>

<!-- Icons -->
<!-- 16x16 -->
<link rel="shortcut icon" href="http://www.niyando.com/favicon.ico">
<!-- 32x32 -->
<link rel="shortcut icon" href="http://www.niyando.com/favicon.png">
<!-- 57x57 (precomposed) for iPhone 3GS, pre-2011 iPod Touch and older Android devices -->
<link rel="apple-touch-icon-precomposed" href="http://www.niyando.com/images/apple-touch-icon-precomposed.png">
<!-- 72x72 (precomposed) for 1st generation iPad, iPad 2 and iPad mini -->
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://www.niyando.com/images/apple-touch-icon-72x72-precomposed.png">
<!-- 114x114 (precomposed) for iPhone 4, 4S, 5 and post-2011 iPod Touch -->
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://www.niyando.com/images/apple-touch-icon-114x114-precomposed.png">
<!-- 144x144 (precomposed) for iPad 3rd and 4th generation -->
<link rel="apple-touch-icon-precomposed" sizes="144x144" href="http://www.niyando.com/images/apple-touch-icon-144x144-precomposed.png">

</head>

<body class="post">

<!--[if lt IE 9]><div class="browser-upgrade alert alert-info">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div><![endif]-->

<div class="navigation-wrapper">
	<div class="site-name">
		<a href="http://www.niyando.com/">Nirav Gandhi's Blog</a>
	</div><!-- /.site-name -->
	<div class="top-navigation">
		<nav role="navigation" id="site-nav" class="nav">
		    <ul>
		        
				    
				        
				    
				    <li><a href="http://www.niyando.com/about/" >About</a></li>
				
				    
				        
				    
				    <li><a href="http://www.niyando.com/posts/" >All Posts</a></li>
				
		    </ul>
		</nav>
	</div><!-- /.top-navigation -->
</div><!-- /.navigation-wrapper -->



<div id="main" role="main">
  <div class="article-author-side">
    


<div itemscope itemtype="http://schema.org/Person">


	<img src="http://www.niyando.com/images/dp2015.jpg" class="bio-photo" alt="Nirav Gandhi bio photo">


  <h3 itemprop="name">Nirav Gandhi</h3>
  <p>Codes, Creates, Cleans, Cooks, Cheers & Cares.<br><br>Senior Product Developer at F22 Labs, India</p>
  <a href="mailto:niyando@gmail.com" class="author-social" target="_blank"><i class="fa fa-fw fa-envelope-square"></i> Email</a>
  <a href="http://twitter.com/niyando" class="author-social" target="_blank"><i class="fa fa-fw fa-twitter-square"></i> Twitter</a>
  <a href="http://facebook.com/niyando" class="author-social" target="_blank"><i class="fa fa-fw fa-facebook-square"></i> Facebook</a>
  
  <a href="http://linkedin.com/in/ndgandhi" class="author-social" target="_blank"><i class="fa fa-fw fa-linkedin-square"></i> LinkedIn</a>
  
  <a href="http://instagram.com/niyando" class="author-social" target="_blank"><i class="fa fa-fw fa-instagram"></i> Instagram</a>
  
  <a href="http://github.com/niyando" class="author-social" target="_blank"><i class="fa fa-fw fa-github"></i> Github</a>
  <a href="http://stackoverflow.com/users/1278007" class="author-social" target="_blank"><i class="fa fa-fw fa-stack-overflow"></i> Stackoverflow</a>
  
  
  
  
  
  
  
  
  
</div>

  </div>
  <article class="post">
    <div class="headline-wrap">
      
        <h1><a href="http://www.niyando.com/web/coding-email-template/" rel="bookmark" title="Coding Email Template">Coding Email Template</a></h1>
      
    </div><!--/ .headline-wrap -->
    <div class="article-wrap">
      <p>Email is an important medium of communication with your customer. Right from <code>signing up</code> to <code>placing the first order</code> to <code>sending recommended products</code>, all communications happen through email. So it is imperative to get it right.</p>

<p>Coding an email template is a complex thing. Here are the key problems that I as a developer face writing email templates.</p>

<h2 id="its-2015-and-i-still-use-tables-to-build-my-email-templates">Its 2015 and I still use <code>&lt;tables&gt;</code> to build my email templates.</h2>

<p>Email templates are not standard web pages that can be viewed on browsers. They are served by and under email clients. All email clients have a rendering engine that is responsible for displaying emails. There are no standard rules around such rendering engines. To some, doing x is bad and to some doing y is bad.</p>

<p>To give an example, Gmail’s rendering engine supports <code>&lt;div&gt;</code> tag in your template but there are good chances that other clients such as outlook, lotus, etc would not. There is a long list of css attributes that are not supported across mail clients. You cannot easily ignore the possibilities of your customer viewing your emails on such clients. Here is a quick <a href="https://emailclientmarketshare.com/" target="_blank">report</a> from litmus labs that shows marketshare of major email clients.</p>

<p>So yes, you need to write html the way people did in 90’s.</p>

<p><strong>Use in-line CSS:</strong> Styles aren’t always supported.<br />
<strong>Use table layouts:</strong> Div layouts are css dependent and many of the email clients can’t cope.<br />
<strong>Don’t use rowspan:</strong> This causes weird spacing issues.<br />
<strong>Don’t use background images:</strong> Support for these is limited.<br />
<strong>Style image tags with “display:block”:</strong> Else weird spacing issues.<br />
<strong>If using multiple tables nest them in one parent table:</strong> This stops more weird spacing issues.<br />
<strong>Don’t use Javascript:</strong> Again not supported very well.<br />
<strong>Make sure your email is legible with no images:</strong> The user may not load them.</p>

<p>Writing code to support IE6 suddenly seems alright.</p>

<iframe src="//giphy.com/embed/HteV6g0QTNxp6" width="480" height="267" frameborder="0" class="giphy-embed" allowfullscreen=""></iframe>
<p><a href="http://giphy.com/gifs/HteV6g0QTNxp6">via GIPHY</a></p>

<h2 id="client-wants-email-template-to-be-responsive-and-i-cannot-use-bootstrap">Client wants email template to be responsive and I cannot use bootstrap.</h2>

<p>Your customers check your emails on their desktops, phones, tablets and these days (pls god kill me) on their wrist watches. Imagine someone pinching on their watch to zoom the email content to read it.</p>

<p>Bootstrap was designed keeping web browsers in mind. If you really want to use it in your email template, you will have to restructure everything in <code>&lt;table&gt;</code>. Even after doing this, most of the bootstrap goodness is still not possible to achieve in webmail clients (gmail,yahoomail,hotmail etc).</p>

<h2 id="external-style-sheets">External style sheets</h2>

<p>Can you use external style sheets?<br />
Yes</p>

<p>Should you use external style sheets?<br />
No</p>

<iframe src="//giphy.com/embed/IwmztXQO7BUzu" width="480" height="270" frameborder="0" class="giphy-embed" allowfullscreen=""></iframe>
<p><a href="http://giphy.com/gifs/cmon-come-on-IwmztXQO7BUzu">via GIPHY</a></p>

<p>In most cases, customer’s email client will block the stylesheet being loaded from the remote server. Spam filters don’t like this behavior of calling the home server for additional resources. Your email won’t appear as you designed. Some clients even strip the style in the head. So, you’re put further behind 90’s to write inline css. Imagine writing same style for similar elements. This is a rather tedious and hard to maintain approach.</p>

<h2 id="possible-solutions-to-make-the-whole-process-easy">Possible solutions to make the whole process easy.</h2>

<h3 id="get-started-with-inkhttpfoundationzurbcomemailshtmltargetblank-now-foundation-framework">Get started with <a href="http://foundation.zurb.com/emails.html" target="_blank">Ink</a> (now Foundation) framework.</h3>

<p>Seriously. You asked for responsiveness to your content and they do it right across all the mail clients. Consider it as a bootstrap alternative for emails. They provide a similar grid concept that makes it very flexible to code your html to support device specific design. It also encourages developers to write standard html code that is supported across all email clients. Explore more goodies under the <a href="http://zurb.com/ink/docs.php" target="_blank">documentation</a>.</p>

<p>You could also use my boilerplate <a href="https://gist.github.com/niyando/f24e3920c8815d799609" target="_blank">gist</a> to get started quickly.</p>

<h3 id="use-premailer">Use Premailer</h3>

<p>If your backend is based on Ruby on Rails, <a href="https://github.com/fphilipe/premailer-rails" target="_blank">premailer-rails</a> is an excellent drop in solution to style your emails. It offloads all the hard work of writing inline styles. Before you send an email, it reads all the style of external and internal stylesheet and adds them to matching html elements (inline) in your email body. This allows you to keep HTML and CSS in separate files, just as you’re used to from web development, thus keeping your sanity.</p>

<p>Doesn’t that sound like a huge relief?</p>

<iframe src="//giphy.com/embed/uc5KhUtOiS0zm" width="480" height="357" frameborder="0" class="giphy-embed" allowfullscreen=""></iframe>
<p><a href="http://giphy.com/gifs/pokemon-pikachu-sigh-uc5KhUtOiS0zm">via GIPHY</a></p>

<h3 id="bonus-trick">Bonus Trick</h3>

<p>Testing emails is also not easy. If its vanilla html, you can just test it on your browser. But once you integrate it with rails, it becomes erb. The only way to test the output would be to send mail using some service (mandrill, sailthru etc) which you also use on production and then check the actual copy under email client. Of course, this is the best way to test but it doesn’t seem very sensible when you are still developing the template. You would end up sending 10 emails to test 10 changes.</p>

<p>Use <a href="https://github.com/sj26/mailcatcher" target="_blank">mailcatcher</a> gem. It acts as a simple smtp server that catches all messages sent to it, stores them and displays on a web interface. It proves to be very handy during development phase.</p>

<h2 id="conclusion">Conclusion</h2>

<p>Coding Emails: Love it or hate it. You cannot ignore it!<br />
I hope these tips prove helpful to you.</p>

<p>Keep spamming :P !</p>

      <hr />
      <footer role="contentinfo">
        <div class="social-share">
  <h4>Share on</h4>
  <ul>
    <li>
      <a href="https://twitter.com/intent/tweet?text=Coding Email Template&url=http://www.niyando.com/web/coding-email-template/&via=niyando" class="twitter" title="Share on Twitter"><i class="fa fa-twitter"></i><span> Twitter</span></a>
    </li>
    <li>
      <a href="https://www.facebook.com/sharer/sharer.php?u=http://www.niyando.com/web/coding-email-template/" class="facebook" title="Share on Facebook" onClick="return fbs_click(600, 300)" target="_blank"><i class="fa fa-facebook"></i><span> Facebook</span></a>
    </li>
    <li>
      <a href="https://plus.google.com/share?url=http://www.niyando.com/web/coding-email-template/" class="google-plus" title="Share on Google Plus"><i class="fa fa-google-plus"></i><span> Google+</span></a>
    </li>
  </ul>
</div><!-- /.social-share -->

<script type="text/javascript">
function fbs_click(width, height) {
    var leftPosition, topPosition;
    //Allow for borders.
    leftPosition = (window.screen.width / 2) - ((width / 2) + 10);
    //Allow for title and status bars.
    topPosition = (window.screen.height / 2) - ((height / 2) + 50);
    var windowFeatures = "status=no,height=" + height + ",width=" + width + ",resizable=yes,left=" + leftPosition + ",top=" + topPosition + ",screenX=" + leftPosition + ",screenY=" + topPosition + ",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no";
    u=location.href;
    t=document.title;
    window.open('http://www.facebook.com/sharer.php?u='+encodeURIComponent(u)+'&t='+encodeURIComponent(t),'sharer', windowFeatures);
    return false;
}
</script>
        <p class="byline"><strong>Coding Email Template</strong> was published on <time datetime="2015-11-07T16:15:46+05:30">November 07, 2015</time>.</p>
      </footer>
    </div><!-- /.article-wrap -->
  
    <section id="disqus_thread"></section><!-- /#disqus_thread -->
  
  </article>
</div><!-- /#main -->

<div class="footer-wrap">
  
  <div class="related-articles">
  <h4>You might also enjoy <small class="pull-right">(<a href="http://www.niyando.com/posts/">View all posts</a>)</small></h4>
    <ul>
    
      <li><a href="http://www.niyando.com/web/state-machines-in-rails-model/" title="State Machine in Rails Model">State Machine in Rails Model</a></li>
    
      <li><a href="http://www.niyando.com/web/environment-variables-in-angular-js/" title="Environment Variables in Angular Js">Environment Variables in Angular Js</a></li>
    
      <li><a href="http://www.niyando.com/web/get-started-with-bower/" title="Get Started With Bower">Get Started With Bower</a></li>
    
    </ul>
    <hr />
  </div><!-- /.related-articles -->
  
  <footer>
    

<span>&copy; 2015 Nirav Gandhi. Powered by <a href="http://jekyllrb.com" rel="nofollow">Jekyll.</span>

  </footer>
</div><!-- /.footer-wrap -->

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>window.jQuery || document.write('<script src="http://www.niyando.com/assets/js/vendor/jquery-1.9.1.min.js"><\/script>')</script>
<script src="http://www.niyando.com/assets/js/scripts.min.js"></script>

<!-- Asynchronous Google Analytics snippet -->
<script>
  var _gaq = _gaq || [];
  var pluginUrl = 
 '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
  _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
  _gaq.push(['_setAccount', 'UA-65105340-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


  
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'niyando'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = '//' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

	        

</body>
</html>